# generated by datamodel-codegen:
#   filename:  metadata-container-json-schema.json
#   timestamp: 2023-11-16T15:17:52+00:00

from __future__ import annotations

from datetime import datetime
from enum import Enum
from typing import Any, Literal, Optional
from uuid import UUID

from pydantic import AnyUrl, BaseModel, Field


class Assessment(str, Enum):
    SENSITIVE = 'SENSITIVE'
    PROTECTED = 'PROTECTED'
    OPEN = 'OPEN'


class DatasetStatus(str, Enum):
    DRAFT = 'DRAFT'
    INTERNAL = 'INTERNAL'
    EXTERNAL = 'EXTERNAL'
    DEPRECATED = 'DEPRECATED'


class DatasetState(str, Enum):
    SOURCE_DATA = 'SOURCE_DATA'
    INPUT_DATA = 'INPUT_DATA'
    PROCESSED_DATA = 'PROCESSED_DATA'
    STATISTICS = 'STATISTICS'
    OUTPUT_DATA = 'OUTPUT_DATA'


class DataType(str, Enum):
    STRING = 'STRING'
    INTEGER = 'INTEGER'
    DATETIME = 'DATETIME'
    BOOLEAN = 'BOOLEAN'


class VariableRole(str, Enum):
    IDENTIFIER = 'IDENTIFIER'
    MEASURE = 'MEASURE'
    START_TIME = 'START_TIME'
    STOP_TIME = 'STOP_TIME'
    ATTRIBUTE = 'ATTRIBUTE'


class LanguageStringType(BaseModel):
    en: Optional[str] = None
    nn: Optional[str] = None
    nb: Optional[str] = None


class UnitType(str, Enum):
    ARBEIDSULYKKE = 'ARBEIDSULYKKE'
    BOLIG = 'BOLIG'
    BYGNING = 'BYGNING'
    EIENDOM = 'EIENDOM'
    FAMILIE = 'FAMILIE'
    FORETAK = 'FORETAK'
    FYLKE = 'FYLKE'
    HAVNEANLOEP = 'HAVNEANLOEP'
    HUSHOLDNING = 'HUSHOLDNING'
    KJOERETOEY = 'KJOERETOEY'
    KOMMUNE = 'KOMMUNE'
    KURS = 'KURS'
    LOVBRUDD = 'LOVBRUDD'
    PERSON = 'PERSON'
    STAT = 'STAT'
    STORFE = 'STORFE'
    TRAFIKKULYKKE = 'TRAFIKKULYKKE'
    TRANSAKSJON = 'TRANSAKSJON'
    VARE_TJENESTE = 'VARE_TJENESTE'
    VERDIPAPIR = 'VERDIPAPIR'
    VIRKSOMHET = 'VIRKSOMHET'


class TemporalityTypeType(str, Enum):
    FIXED = 'FIXED'
    STATUS = 'STATUS'
    ACCUMULATED = 'ACCUMULATED'
    EVENT = 'EVENT'


class Dataset1(BaseModel):
    dataset_pseudo_time: Optional[datetime] = Field(None, title='Dataset pseudo time')
    """
    Time at which the dataset was pseudonymized. In ISO 8601 format.
    """
    source_dataset_path: Optional[str] = Field(None, title='Source dataset path')
    """
    Path to the unpseudonymized dataset. Specified as a file path, URL or URI.
    """


class StableIdentifierType(str, Enum):
    FREG_SNR = 'FREG_SNR'


class SourceVariableDatatype(str, Enum):
    STRING = 'STRING'
    INTEGER = 'INTEGER'
    FLOAT = 'FLOAT'
    DATETIME = 'DATETIME'


class Variable1(BaseModel):
    short_name: Optional[str] = Field(None, title='Short name')
    """
    Physical name of the variable in the dataset. Should match the recommended short name.
    """
    data_element_path: Optional[str] = Field(None, title='Data element path')
    """
    Path to a data element in the dataset.
    """
    stable_identifier_type: Optional[StableIdentifierType] = Field(
        None, title='Stable identifier type'
    )
    """
    Type of stable identifier the variable was mapped to prior to pseudonymization.
    """
    encryption_algorithm: Optional[str] = Field(None, title='Encryption algorithm')
    """
    The encryption algorithm used to pseudonymize the variable.
    """
    encryption_key_reference: Optional[str] = Field(
        None, title='Encryption key reference'
    )
    """
    Name of or reference to the encryption key used to pseudonymize the variable.
    """
    encryption_algorithm_parameters: Optional[list[dict[str, Any]]] = Field(
        None, title='Encryption algorithm parameters'
    )
    """
    Parameters supplied to the encryption algorithm.
    """
    source_variable: Optional[str] = Field(None, title='Source variable')
    """
    Short name of the source variable
    """
    source_variable_datatype: Optional[SourceVariableDatatype] = Field(
        None, title='Source variable data type'
    )
    """
    Data type of the variable prior to pseudonymization.
    """


class PseudonymizationJsonSchema(BaseModel):
    document_version: Literal['0.0.1'] = None
    dataset: Optional[Dataset1] = None
    variables: Optional[list[Variable1]] = None


class Dataset(BaseModel):
    short_name: Optional[str] = Field(None, title='Short name')
    """
    Name of (physical) data file, data table or dataset
    """
    assessment: Optional[Assessment] = Field(None, title='Assessment')
    """
    Value assessment (sensitivity classification) for the data set
    """
    dataset_status: Optional[DatasetStatus] = Field(None, title='Data set status')
    """
    Life cycle for data set
    """
    dataset_state: Optional[DatasetState] = Field(None, title='Data set state')
    """
    Steady state of data
    """
    name: Optional[LanguageStringType] = Field(None, title='Name')
    """
    Name of data set
    """
    description: Optional[LanguageStringType] = Field(None, title='Description')
    """
    Free text description of the data set
    """
    data_source: Optional[LanguageStringType] = Field(None, title='Data source')
    """
    Data source. Set either for the data set or instance variable.
    """
    register_uri: Optional[LanguageStringType] = Field(None, title='Register')
    """
    Link to register
    """
    population_description: Optional[LanguageStringType] = Field(
        None, title='Description of population'
    )
    """
    Description of the population covered in the data set. Includes unit type, spatial coverage and period of time.
    """
    version: Optional[str] = Field(None, title='Version')
    """
    Version of data set
    """
    version_description: Optional[LanguageStringType] = Field(
        None, title='Version description'
    )
    """
    Dataset version information in the form of descriptive text
    """
    unit_type: Optional[UnitType] = Field(None, title='Unit type')
    """
    Unit Type for data file, table or data set. See Definitions of Unit Types https://www.ssb.no/en/metadata/definisjoner-av-statistiske-enheter
    """
    temporality_type: Optional[TemporalityTypeType] = Field(
        None, title='Temporality type'
    )
    """
    Temporality type. Either for the instance variable or the data set
    """
    subject_field: Optional[LanguageStringType] = Field(None, title='Subject field')
    """
    Primary area of statistics in which the data set is included
    """
    keyword: Optional[list[str]] = Field(None, title='Keyword(s)')
    """
    A list of searchable keywords that can contribute to the development of effective filtering and search services.
    """
    spatial_coverage_description: Optional[LanguageStringType] = Field(
        None, title='Spatial coverage description'
    )
    """
    Description of the data set's spatial coverage
    """
    id: Optional[UUID] = Field(None, title='Identifier')
    """
    Unique identifier for the data set
    """
    owner: Optional[LanguageStringType] = Field(None, title='Owner')
    """
    Owner of the data set (responsible division in Statistics Norway). See also Classification of organisational units https://www.ssb.no/en/klass/klassifikasjoner/83
    """
    file_path: Optional[str] = Field(None, title='File path')
    """
    The file path contains the data set's name and the path to where it is stored
    """
    metadata_created_date: Optional[datetime] = Field(
        None, title='Metadata created date'
    )
    """
    Created date for metadata about the data set
    """
    metadata_created_by: Optional[str] = Field(None, title='Metadata created by')
    """
    Created by identifiable person.
    """
    metadata_last_updated_date: Optional[datetime] = Field(
        None, title='Metadata last updated date'
    )
    """
    Last updated date for metadata about the dataset
    """
    metadata_last_updated_by: Optional[str] = Field(
        None, title='Metadata last updated by'
    )
    """
    Last change made by identifiable person. 
    """
    contains_data_from: Optional[str] = Field(None, title='Contains data from')
    """
    The data set contains data from date/time
    """
    contains_data_until: Optional[str] = Field(None, title='Contains data up until')
    """
    The data set contains data up until date/time
    """


class Variable(BaseModel):
    short_name: Optional[str] = Field(None, title='Short name')
    """
    Physical name of the variable in the dataset. Should match the recommended short name.
    """
    name: Optional[LanguageStringType] = Field(None, title='Name')
    """
    Variable names can be inherited from VarDef, but can also be documented/changed here
    """
    data_type: Optional[DataType] = Field(None, title='Data type')
    """
    Data type
    """
    variable_role: Optional[VariableRole] = Field(None, title='Variable role')
    """
    Role of the instance variable in the data set
    """
    definition_uri: Optional[AnyUrl] = Field(None, title='Definition URI')
    """
    A link (URI) to the variable's definition in Vardok/VarDef
    """
    direct_person_identifying: Optional[bool] = Field(
        None, title='Direct Person identifying Information (DPI)'
    )
    """
    Direct Person identifying Information (DPI). Some of the values ​​in an instance variable kan be DPI, others not. In this case, DPI is set equal to true. For example, the variable exporter where some of the values ​​can be organization number, others social security numbers (sole proprietorships).
    """
    data_source: Optional[LanguageStringType] = Field(None, title='Data source')
    """
    Data source. Set at data set level, but can be overwritten at variable instance level.
    """
    population_description: Optional[LanguageStringType] = Field(
        None, title='Population description'
    )
    """
    The population the variable describes can be specified in more detail here. Set at dataset level, but can be overwritten at instance variable level.
    """
    comment: Optional[LanguageStringType] = Field(None, title='Comment')
    """
    Further clarification of the variables definition
    """
    temporality_type: Optional[TemporalityTypeType] = Field(
        None, title='Temporality type'
    )
    """
    Temporality type. Set either for variable instance or dataset.
    """
    measurement_unit: Optional[str] = Field(None, title='Measurement unit')
    """
    Measurement unit
    """
    format: Optional[str] = Field(None, title='Format')
    """
    The format of the values ​​(physical format or regular expression) in machine-readable form for validation. This can be used as a further specification of the data type (dataType) in those cases where this is relevant.
    """
    classification_uri: Optional[AnyUrl] = Field(
        None, title='Classification or codelist URI'
    )
    """
    Link (URI) to valid classification or code list
    """
    sentinel_value_uri: Optional[AnyUrl] = Field(None, title='Sentinel value URI')
    """
    A link (URI) to an overview of sentinel values included in the variable. Proposals for the standardization of sentinel values ​​have been drafted, but this has not yet been processed by the Standards Committee in Statistics Norway:  01 - In total, 02 - Sum, 03 - Subtotal, 04 - Other, 05 - Rest, 06 - Invalid value, 07 - Unspecified, 08 - Not relevant
    """
    invalid_value_description: Optional[LanguageStringType] = Field(
        None, title='Invalid value(s) description'
    )
    """
    Invalid value(s) description used in addition (or as an alternative) to standard sentinel values.
    """
    id: Optional[UUID] = Field(None, title='Identifier')
    """
    Unique SSB identifier for the instance variable in the data set
    """
    contains_data_from: Optional[datetime] = Field(None, title='Contains data from')
    """
    The instance variable in the data set contains data from and including this date. This can be useful information for data sets that contain many instance variables in addition to data for many periods/years. In many cases, it will then be the case that some variables only contain data for the most recent periods/years, e.g. if the entire data set contains data from 1970 to 2020, while some instance variables only contain data from 1998 onwards.
    """
    contains_data_until: Optional[datetime] = Field(
        None, title='Contains data up until'
    )
    """
    The instance variable in the data set contains data up to and including this date. This can be useful information for data sets that contain many instance variables in addition to data for many periods/years. In many cases, it will then be the case that some of the instance variables in the data set are terminated (no longer updated) after a given point in time.
    """


class DatadocJsonSchema(BaseModel):
    percentage_complete: Optional[int] = None
    """
    Percentage of obligatory metadata fields populated.
    """
    document_version: Literal['2.0.0'] = None
    """
    Version of this model
    """
    dataset: Optional[Dataset] = None
    variables: Optional[list[Variable]] = None


class MetadataContainer(BaseModel):
    document_version: Literal['0.0.1'] = None
    datadoc: Optional[DatadocJsonSchema] = None
    pseudonymization: Optional[PseudonymizationJsonSchema] = None
